<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0"><title>小东 - 知而不行，是为不知；行而不知，可以致知</title><meta name="author" content="小东"><meta name="copyright" content="小东"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="ffffff"><meta property="og:type" content="website">
<meta property="og:title" content="小东">
<meta property="og:url" content="https://blog.amavv.com/index.html">
<meta property="og:site_name" content="小东">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://avatars.githubusercontent.com/u/79109673?v=4">
<meta property="article:author" content="小东">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://avatars.githubusercontent.com/u/79109673?v=4"><link rel="shortcut icon" href="https://avatars.githubusercontent.com/u/79109673?v=4"><link rel="canonical" href="https://blog.amavv.com/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//www.google-analytics.com" crossorigin=""/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script async="async" src="https://www.googletagmanager.com/gtag/js?id=G-V1FGL6FBM3"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-V1FGL6FBM3');
</script><!-- Matomo --><script>var _paq = window._paq = window._paq || [];
/* tracker methods like "setCustomDimension" should be called before "trackPageView" */
_paq.push(['trackPageView']);
_paq.push(['enableLinkTracking']);
(function() {
  var u="//ct.tryxd.cn/";
  _paq.push(['setTrackerUrl', u+'matomo.php']);
  _paq.push(['setSiteId', '5']);
  var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
  g.async=true; g.src=u+'matomo.js'; s.parentNode.insertBefore(g,s);
})();</script><!-- End Matomo Code --><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: true
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  }
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '小东',
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2025-07-02 17:45:32'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
    win.getCSS = url => new Promise((resolve, reject) => {
      const link = document.createElement('link')
      link.rel = 'stylesheet'
      link.href = url
      link.onload = () => resolve()
      link.onerror = () => reject()
      document.head.appendChild(link)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', 'ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><link rel="stylesheet" href="/css/ip.css"><meta name="generator" content="Hexo 6.3.0"></head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://avatars.githubusercontent.com/u/79109673?v=4" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">15</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">23</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">1</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/gallery/"><i class="fa-fw fas fa-images"></i><span> 照片</span></a></div><div class="menus_item"><a class="site-page" target="_blank" rel="noopener" href="https://nav.amavv.com"><i class="fa-fw fas fa-paper-plane"></i><span> 导航</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="page" id="body-wrap"><header class="not-top-img" id="page-header"><nav id="nav"><span id="blog-info"><a href="/" title="小东"><span class="site-name">小东</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/gallery/"><i class="fa-fw fas fa-images"></i><span> 照片</span></a></div><div class="menus_item"><a class="site-page" target="_blank" rel="noopener" href="https://nav.amavv.com"><i class="fa-fw fas fa-paper-plane"></i><span> 导航</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="post_cover left"><a href="/2025/01/16/opwnert/" title="docker安装opwnert"><img class="post-bg" src="/../../img/all-hands-community.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="docker安装opwnert"></a></div><div class="recent-post-info"><a class="article-title" href="/2025/01/16/opwnert/" title="docker安装opwnert">docker安装opwnert</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2025-01-16T19:20:37.000Z" title="发表于 2025-01-17 03:20:37">2025-01-17</time></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/docker/">docker</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/opwnert/">opwnert</a></span></div><div class="content">
运行 ip add 命令查看网卡信息，例如 网络接口逻辑名称是 eth0

12345674: eth0: &lt;BROADCAST,MULTICAST,PROMISC,UP,LOWER_UP&gt; mtu 1500 qdisc mq state UP group default qlen 1000    link/ether 32:7d:f1:57:9b:c8 brd ff:ff:ff:ff:ff:ff    altname end0    inet 192.168.1.10/24 brd 192.168.1.255 scope global noprefixroute eth0       valid_lft forever preferred_lft forever    inet6 fe80::23b9:deda:2f5f:8be2/64 scope link noprefixroute        valid_lft forever preferred_lft forever

开启此网卡混杂模式。

1ip link set eth0 promisc on


配置 ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2023/08/30/bitwardenrs/" title="使用bitwarden_rs搭建自己的密码管理器"><img class="post-bg" src="https://img1.131213.xyz/file/d2f82c95c0f83fe163324.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="使用bitwarden_rs搭建自己的密码管理器"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/08/30/bitwardenrs/" title="使用bitwarden_rs搭建自己的密码管理器">使用bitwarden_rs搭建自己的密码管理器</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-08-30T09:33:23.000Z" title="发表于 2023-08-30 17:33:23">2023-08-30</time></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/bitwarden/">bitwarden</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/docker/">docker</a></span></div><div class="content">介绍BitwardenRS是一个开源的密码管理器，它可以让你在自己的服务器上搭建和运行自己的Bitwarden密码管理服务。它提供了强大的加密功能，可以安全地存储和管理各种登录凭据。使用BitwardenRS，你可以方便地访问和使用密码，并保护你的个人信息的安全。

本文将引导读者通过在腾讯云Lighthouse服务器用docker compose部署BitwardenRS。

准备工作
安装docker


一键安装脚本！Linux系统都支持！

1234# 官方源curl -sSL https://get.docker.com/ | sh#  Azure源(中国区azure)curl -fsSL https://get.docker.com | bash -s docker --mirror AzureChinaCloud

启动服务1234#启动Dockersystemctl start docker#开机启动systemctl enable docker

安装
本次使用的是vaultwarden镜像。vaultwarden优点：资源占用少，减少服务器负担。

1.创建目录1m ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2023/08/29/openresty/" title="利用 openresty 打造 IP 地址查询接口"><img class="post-bg" src="https://openresty.org/images/logo.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="利用 openresty 打造 IP 地址查询接口"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/08/29/openresty/" title="利用 openresty 打造 IP 地址查询接口">利用 openresty 打造 IP 地址查询接口</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-08-29T09:51:06.000Z" title="发表于 2023-08-29 17:51:06">2023-08-29</time></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/openresty/">openresty</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/nginx/">nginx</a></span></div><div class="content">前言OpenResty 是基于 Nginx 的高性能 Web 应用服务器，它集成了 Lua 编程语言，使开发人员能够快速构建灵活、可扩展的 Web 应用程序。借助 OpenResty，您可以利用 Nginx 强大的性能特点和 Lua 的编程能力来处理复杂的业务逻辑，并实现高并发和高效率的请求处理。同时，OpenResty 还提供了丰富的 Lua 库和模块，简化开发过程，如处理 HTTP 请求、操作数据库等。总之，OpenResty 是一个强大而简洁的工具，适用于构建高性能的 Web 应用程序。
环境本文章使用的是腾讯云CVM服务器。系统为Debian 12 。OpenResty版本为 1.21.4.2 


安装OPENRESTY
本次是基于源码编译安装，也可以使用包管理器安装

编译环境
123456root@VM-0-3-debian:~# lsb_release -aNo LSB modules are available.Distributor ID: DebianDescription:    Debian GNU/Linux 12 (bookworm)Release:    ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2023/08/26/so-vits-svc/" title="手把手教学！如何自己训练一个AI歌手 - so-vits-svc云端训练教程"><img class="post-bg" src="https://cn.bing.com/th?id=OHR.EmeraldLakeYukon_EN-US0522450551_UHD.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="手把手教学！如何自己训练一个AI歌手 - so-vits-svc云端训练教程"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/08/26/so-vits-svc/" title="手把手教学！如何自己训练一个AI歌手 - so-vits-svc云端训练教程">手把手教学！如何自己训练一个AI歌手 - so-vits-svc云端训练教程</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-08-26T14:56:31.000Z" title="发表于 2023-08-26 22:56:31">2023-08-26</time></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/so-vits-svc/">so-vits-svc</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/AI/">AI</a></span></div><div class="content">介绍so-vits-svc是基于VITS的开源项目，VITS（Variational Inference with adversarial learning for end-to-end Text-to-Speech）是一种结合变分推理（variational inference）、标准化流（normalizing flows）和对抗训练的高表现力语音合成模型
环境
本文章使用的是腾讯云GPU计算型GN7,具体环境如下： 	

12345678910# 系统环境Ubuntu 22.04 LTS# 显卡环境NVIDIA-SMI 470.182.03    Driver Version: 470.182.03    CUDA Version: 11.4# python环境Python 3.10# GPU环境Tesla T4 16G * 1# CPU环境8核	32GB



音频处理
为了训练，我们需要将音频文件分离成人声和伴奏两个音轨，并将人声音频文件切分成10-20秒的音频片段。


使用Spleeter分离人声音轨

12apt install ffmpegpip install sp ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2023/08/22/posteio-mail/" title="自建邮局 | Poste.io邮箱服务搭建教程"><img class="post-bg" src="https://poste.io/screenshots2/a1.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="自建邮局 | Poste.io邮箱服务搭建教程"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/08/22/posteio-mail/" title="自建邮局 | Poste.io邮箱服务搭建教程">自建邮局 | Poste.io邮箱服务搭建教程</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-08-22T13:35:40.000Z" title="发表于 2023-08-22 21:35:40">2023-08-22</time></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/mail/">mail</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/%E9%82%AE%E7%AE%B1/">邮箱</a></span></div><div class="content">介绍poste.io 邮件服务基于 Docker 搭建，用的是 Haraka + Dovecot + SQLite 邮件系统，能够轻易实现邮件收发、多域名控制、邮箱容量控制、邮件杀毒、邮件过滤以及 Webmail 等基础功能。同时，Poste 还提供了投递统计分析、客户端自动适配、一键安装SSL、邮件转发、邮件别名、Catch-All 等相当有用的功能。
快速安装
poste.io原生支持docker，占用资源较少，安装简单，适合个人使用。

dns配置
为了能够正常使用邮件服务，需要配置域名的 MX 记录，将邮件服务器的地址指向你的域名。下文以mail.your-domain.com为例。




记录类型
主机记录
记录值



MX
your-domain.com
mail.your-domain.com


TXT
your-domain.com
v&#x3D;spf1 mx ~all


A
mail
1.2.3.4 (your ip)


TXT
_dmarc
v&#x3D;DMARC1; p&#x3D;none; pct&#x3D;100; rua&#x3D;mailto ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2023/03/20/stable-diffusion/" title="显卡跑不动AI绘图？部署Stable Diffusion WebUI到Google Colab教学。"><img class="post-bg" src="https://cn.bing.com/th?id=OHR.LionessesNap_EN-US6947230556_UHD.jpg&amp;pid=hp&amp;w=384&amp;h=216&amp;rs=1&amp;c=4" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="显卡跑不动AI绘图？部署Stable Diffusion WebUI到Google Colab教学。"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/03/20/stable-diffusion/" title="显卡跑不动AI绘图？部署Stable Diffusion WebUI到Google Colab教学。">显卡跑不动AI绘图？部署Stable Diffusion WebUI到Google Colab教学。</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-03-20T20:44:52.000Z" title="发表于 2023-03-21 04:44:52">2023-03-21</time></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/Google-Colab/">Google Colab</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/Stable-Diffusion-WebUI/">Stable Diffusion WebUI</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/AI-%E7%BB%98%E7%94%BB/">AI 绘画</a></span></div><div class="content">如果你的电脑GPU无法运行AI绘图&#x2F;模型训练，可以尝试使用Google Colab在线运行Stable Diffsuion WebUI，基本上是免费的。
Google Colab是一个免费的工具，但使用免费版需要与其他人共享资源，并且有可能会不定时断开连接。
使用方法与在自己电脑上运行Stable Diffsuion WebUI相同，不同之处在于它在Google服务器上运行，并且即使是免费版也能享受比RTX3090还高的服务器GPU性能，在10秒内就能计算一张图片。
1、寻找Stable Diffsuion ColabStable Diffusion WebUI有很多人已经写好了方便使用的jupyter了，通常只需要一键操作就能自动下载AUTOMATIC1111制作的WebUI、模型和扩展功能。
本文所采用的是camenduru编写的stable-diffusion-webui-colab jupyter，作者一直在更新。除了绘图外，它还可以用于训练模型。
Linaqruf制作的kohya-trainer则是专门用来训练LoRA模型的jupyter。
2、部署Stable D ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2023/03/11/windows-terminal/" title="Windows Terminal美化"><img class="post-bg" src="https://user-images.githubusercontent.com/48369326/115790869-4c852b00-a37c-11eb-97f1-f61972c7800c.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Windows Terminal美化"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/03/11/windows-terminal/" title="Windows Terminal美化">Windows Terminal美化</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-03-11T10:20:50.000Z" title="发表于 2023-03-11 18:20:50">2023-03-11</time></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/terminal/">terminal</a></span></div><div class="content">Windows Terminal美化（oh-my-posh3）
官网 https://ohmyposh.dev/docs/


直接在微软商店搜索oh my posh下载（同时若没有Windows Terminal的可以安装一下Windows Terminal）

下载作者推荐MesloLGM NF字体，点此下载



下载完成后解压，全选右键点击安装即可自动安装


安装完成后打开Windows Terminal然后按”Ctrl+Shift+,（逗号）”来打开settings.json配置文件

将此处
123456789101112131415...    &quot;copyFormatting&quot;: &quot;none&quot;,    &quot;copyOnSelect&quot;: false,    &quot;defaultProfile&quot;: &quot;&#123;61c54bbd-c2c6-5271-96e7-009a87ff44bf&#125;&quot;,    &quot;profiles&quot;: &#123;        &q ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2023/02/26/cloudflare-tunnel/" title="cloudflare tunnel 搭建内网穿透搭建记录"><img class="post-bg" src="https://img.131213.xyz/file/995aa151d7bf381a45dba.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="cloudflare tunnel 搭建内网穿透搭建记录"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/02/26/cloudflare-tunnel/" title="cloudflare tunnel 搭建内网穿透搭建记录">cloudflare tunnel 搭建内网穿透搭建记录</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-02-26T05:45:57.000Z" title="发表于 2023-02-26 13:45:57">2023-02-26</time></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/Linux/">Linux</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/cloudflare/">cloudflare</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F/">内网穿透</a></span></div><div class="content">1、前提条件
一个托管于Cloudflare的域名，相关教程看这里创建 Cloudflare 帐户并添加网站
一台本地Linux Web机器，即内网穿透的对象
正常网络连接

2、配置创建tunnel我们登陆Cloudflare Zero Trust的 Web控制台 ，左边选择Access–&gt;Tunnels， 点击Create a tunnel 创建tunnel。


获取Tunnel的token
token是install 后的一大串字符 记下来备用



配置要内网穿透的服务

Public Hostname里面添加域名和对应的本地服务，域名前缀自定义，后期也可以在此直接修改或添加，支持多个服务！
支持添加HTTP、HTTPS、TCP、SSH 、… ,若需要完整版请至 Ingress rules 页面查看。
3、在本地安装Cloudflare Tunnel客户端docker安装123456docker run -itd \           --name tunnel \           --network=host \           --restart=alwa ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2022/10/11/pm2/" title="pm2常用命令记录"><img class="post-bg" src="https://cn.bing.com/th?id=OHR.KornatiNP_EN-US0453245326_UHD.jpg&amp;pid=hp&amp;w=384&amp;h=216&amp;rs=1&amp;c=4" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="pm2常用命令记录"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/10/11/pm2/" title="pm2常用命令记录">pm2常用命令记录</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-10-11T02:25:08.000Z" title="发表于 2022-10-11 10:25:08">2022-10-11</time></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/Linux/">Linux</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/pm2/">pm2</a></span></div><div class="content">pm2常用命令记录123456789101112131415161718192021222324252627# --interpreter指定解释器pm2 start main.py -x --interpreter python3pm2 start app.js # 启动app.js应用程序pm2 start app.js -i 4        # cluster mode 模式启动4个app.js的应用实例  4个应用程序会自动进行负载均衡pm2 start app.js --name=&quot;api&quot; # 启动应用程序并命名为 &quot;api&quot;pm2 start app.js --watch      # 当文件变化时自动重启应用pm2 start script.sh          # 启动 bash 脚本pm2 list                      # 列表 PM2 启动的所有的应用程序pm2 monit                    # 显示每个应用程序的CPU和内存占用情况pm2 show [app-name]     ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2022/05/25/vim-1/" title="vim无法右键鼠标粘贴解决方法"><img class="post-bg" src="https://cn.bing.com/th?id=OHR.KornatiNP_EN-US0453245326_UHD.jpg&amp;pid=hp&amp;w=384&amp;h=216&amp;rs=1&amp;c=4" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="vim无法右键鼠标粘贴解决方法"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/05/25/vim-1/" title="vim无法右键鼠标粘贴解决方法">vim无法右键鼠标粘贴解决方法</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-05-25T10:45:24.000Z" title="发表于 2022-05-25 18:45:24">2022-05-25</time></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/Linux/">Linux</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/vim/">vim</a></span></div><div class="content">修改vim配置文件1vim /usr/share/vim/vim82/defaults.vim

将 set mouse&#x3D;a 改为：set mouse-&#x3D;a


</div></div></div><nav id="pagination"><div class="pagination"><span class="page-number current">1</span><a class="page-number" href="/page/2/#content-inner">2</a><a class="extend next" rel="next" href="/page/2/#content-inner"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://avatars.githubusercontent.com/u/79109673?v=4" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">小东</div><div class="author-info__description">知而不行，是为不知；行而不知，可以致知</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">15</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">23</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">1</div></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2025/01/16/opwnert/" title="docker安装opwnert"><img src="/../../img/all-hands-community.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="docker安装opwnert"/></a><div class="content"><a class="title" href="/2025/01/16/opwnert/" title="docker安装opwnert">docker安装opwnert</a><time datetime="2025-01-16T19:20:37.000Z" title="发表于 2025-01-17 03:20:37">2025-01-17</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/08/30/bitwardenrs/" title="使用bitwarden_rs搭建自己的密码管理器"><img src="https://img1.131213.xyz/file/d2f82c95c0f83fe163324.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="使用bitwarden_rs搭建自己的密码管理器"/></a><div class="content"><a class="title" href="/2023/08/30/bitwardenrs/" title="使用bitwarden_rs搭建自己的密码管理器">使用bitwarden_rs搭建自己的密码管理器</a><time datetime="2023-08-30T09:33:23.000Z" title="发表于 2023-08-30 17:33:23">2023-08-30</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/08/29/openresty/" title="利用 openresty 打造 IP 地址查询接口"><img src="https://openresty.org/images/logo.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="利用 openresty 打造 IP 地址查询接口"/></a><div class="content"><a class="title" href="/2023/08/29/openresty/" title="利用 openresty 打造 IP 地址查询接口">利用 openresty 打造 IP 地址查询接口</a><time datetime="2023-08-29T09:51:06.000Z" title="发表于 2023-08-29 17:51:06">2023-08-29</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/08/26/so-vits-svc/" title="手把手教学！如何自己训练一个AI歌手 - so-vits-svc云端训练教程"><img src="https://cn.bing.com/th?id=OHR.EmeraldLakeYukon_EN-US0522450551_UHD.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="手把手教学！如何自己训练一个AI歌手 - so-vits-svc云端训练教程"/></a><div class="content"><a class="title" href="/2023/08/26/so-vits-svc/" title="手把手教学！如何自己训练一个AI歌手 - so-vits-svc云端训练教程">手把手教学！如何自己训练一个AI歌手 - so-vits-svc云端训练教程</a><time datetime="2023-08-26T14:56:31.000Z" title="发表于 2023-08-26 22:56:31">2023-08-26</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/08/22/posteio-mail/" title="自建邮局 | Poste.io邮箱服务搭建教程"><img src="https://poste.io/screenshots2/a1.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="自建邮局 | Poste.io邮箱服务搭建教程"/></a><div class="content"><a class="title" href="/2023/08/22/posteio-mail/" title="自建邮局 | Poste.io邮箱服务搭建教程">自建邮局 | Poste.io邮箱服务搭建教程</a><time datetime="2023-08-22T13:35:40.000Z" title="发表于 2023-08-22 21:35:40">2023-08-22</time></div></div></div></div><div class="card-widget" id="card-newest-comments"><div class="item-headline"><i class="fas fa-comment-dots"></i><span>最新评论</span></div><div class="aside-list"><span>正在加载中...</span></div></div><div class="card-widget card-categories"><div class="item-headline">
            <i class="fas fa-folder-open"></i>
            <span>分类</span>
            
            </div>
            <ul class="card-category-list" id="aside-cat-list">
            <li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E8%BF%90%E7%BB%B4/"><span class="card-category-list-name">运维</span><span class="card-category-list-count">1</span></a></li>
            </ul></div><div class="card-widget card-tags"><div class="item-headline"><i class="fas fa-tags"></i><span>标签</span></div><div class="card-tag-cloud"><a href="/tags/AI/" style="font-size: 1.1em; color: #999">AI</a> <a href="/tags/AI-%E7%BB%98%E7%94%BB/" style="font-size: 1.1em; color: #999">AI 绘画</a> <a href="/tags/Google-Colab/" style="font-size: 1.1em; color: #999">Google Colab</a> <a href="/tags/Linux/" style="font-size: 1.5em; color: #99a9bf">Linux</a> <a href="/tags/Stable-Diffusion-WebUI/" style="font-size: 1.1em; color: #999">Stable Diffusion WebUI</a> <a href="/tags/bing/" style="font-size: 1.1em; color: #999">bing</a> <a href="/tags/bitwarden/" style="font-size: 1.1em; color: #999">bitwarden</a> <a href="/tags/cloudflare/" style="font-size: 1.1em; color: #999">cloudflare</a> <a href="/tags/docker/" style="font-size: 1.3em; color: #99a1ac">docker</a> <a href="/tags/heroku/" style="font-size: 1.1em; color: #999">heroku</a> <a href="/tags/java/" style="font-size: 1.1em; color: #999">java</a> <a href="/tags/mail/" style="font-size: 1.1em; color: #999">mail</a> <a href="/tags/mysql/" style="font-size: 1.1em; color: #999">mysql</a> <a href="/tags/nginx/" style="font-size: 1.1em; color: #999">nginx</a> <a href="/tags/nodejs/" style="font-size: 1.1em; color: #999">nodejs</a> <a href="/tags/openresty/" style="font-size: 1.1em; color: #999">openresty</a> <a href="/tags/opwnert/" style="font-size: 1.1em; color: #999">opwnert</a> <a href="/tags/pm2/" style="font-size: 1.1em; color: #999">pm2</a> <a href="/tags/so-vits-svc/" style="font-size: 1.1em; color: #999">so-vits-svc</a> <a href="/tags/terminal/" style="font-size: 1.1em; color: #999">terminal</a> <a href="/tags/vim/" style="font-size: 1.1em; color: #999">vim</a> <a href="/tags/%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F/" style="font-size: 1.1em; color: #999">内网穿透</a> <a href="/tags/%E9%82%AE%E7%AE%B1/" style="font-size: 1.1em; color: #999">邮箱</a></div></div><div class="card-widget card-archives"><div class="item-headline"><i class="fas fa-archive"></i><span>归档</span></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/01/"><span class="card-archive-list-date">一月 2025</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/08/"><span class="card-archive-list-date">八月 2023</span><span class="card-archive-list-count">4</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/03/"><span class="card-archive-list-date">三月 2023</span><span class="card-archive-list-count">2</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/02/"><span class="card-archive-list-date">二月 2023</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/10/"><span class="card-archive-list-date">十月 2022</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/05/"><span class="card-archive-list-date">五月 2022</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/03/"><span class="card-archive-list-date">三月 2022</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/01/"><span class="card-archive-list-date">一月 2022</span><span class="card-archive-list-count">4</span></a></li></ul></div><div class="card-widget card-ip"><div class="card-content"></div><div class="item-headline"><i class="fa fa-user" aria-hidden="true"></i><span>当前访问用户</span></div><div class="ip_content">欢迎来自 <span class="p red">未知区域</span> 的小伙伴<br/>访问IP为： <span class="p cyan">未知IP</span><br/>浏览器版本：<span class="p blue">未知浏览器</span></div></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>网站资讯</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">文章数目 :</div><div class="item-count">15</div></div><div class="webinfo-item"><div class="item-name">已运行时间 :</div><div class="item-count" id="runtimeshow" data-publishDate="2021-06-07T00:00:00.000Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">本站总字数 :</div><div class="item-count">18.6k</div></div><div class="webinfo-item"><div class="item-name">本站访客数 :</div><div class="item-count" id="busuanzi_value_site_uv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">本站总访问量 :</div><div class="item-count" id="busuanzi_value_site_pv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">最后更新时间 :</div><div class="item-count" id="last-push-date" data-lastPushDate="2025-07-02T09:45:32.051Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2025 By 小东</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><script src="/js/search/local-search.js"></script><div class="js-pjax"></div><script>window.addEventListener('load', () => {
  const changeContent = (content) => {
    if (content === '') return content

    content = content.replace(/<img.*?src="(.*?)"?[^\>]+>/ig, '[图片]') // replace image link
    content = content.replace(/<a[^>]+?href=["']?([^"']+)["']?[^>]*>([^<]+)<\/a>/gi, '[链接]') // replace url
    content = content.replace(/<pre><code>.*?<\/pre>/gi, '[代码]') // replace code
    content = content.replace(/<[^>]+>/g,"") // remove html tag

    if (content.length > 150) {
      content = content.substring(0,150) + '...'
    }
    return content
  }

  const findTrueUrl = (array) => {
    Promise.all(array.map(item =>
      fetch(item.url).then(resp => resp.json()).then(data => {
        const urlArray = data.body.match(/(https?:\/\/)?([\da-z\.-]+)\.([a-z\.]{2,6})([\/\w \.-]*)*\/?/ig)
        if (data.user.login === 'utterances-bot') {
          return urlArray.pop()
        } else {
          return urlArray.shift()
        }
      })
    )).then(res => {
        array = array.map((i,index)=> {
          return {
            ...i,
            url: res[index]
          }
        })

        saveToLocal.set('github-newest-comments', JSON.stringify(array), 10/(60*24))
        generateHtml(array)
    });
  }

  const getComment = () => {
    fetch('https://api.github.com/repos/x-dr/gitalk-comment/issues/comments?sort=updated&direction=desc&per_page=6&page=1',{
      "headers": {
        Accept: 'application/vnd.github.v3.html+json'
      }
    })
      .then(response => response.json())
      .then(data => {
        const githubArray = data.map(item => {
          return {
            'avatar': item.user.avatar_url,
            'content': changeContent(item.body_html),
            'nick': item.user.login,
            'url': item.issue_url,
            'date': item.updated_at,
            'githubUrl': item.html_url
          }
        })
        findTrueUrl(githubArray)
      }).catch(e => {
        const $dom = document.querySelector('#card-newest-comments .aside-list')
        $dom.innerHTML= "无法获取评论，请确认相关配置是否正确"
      })
  }

  const generateHtml = array => {
    let result = ''

    if (array.length) {
      for (let i = 0; i < array.length; i++) {
        result += '<div class=\'aside-list-item\'>'

        if (true) {
          const name = 'src'
          result += `<a href='${array[i].url}' class='thumbnail'><img ${name}='${array[i].avatar}' alt='${array[i].nick}'></a>`
        }

        result += `<div class='content'>
        <a class='comment' href='${array[i].url}' title='${array[i].content}'>${array[i].content}</a>
        <div class='name'><span>${array[i].nick} / </span><time datetime="${array[i].date}">${btf.diffDate(array[i].date, true)}</time></div>
        </div></div>`
      }
    } else {
      result += '没有评论'
    }

    let $dom = document.querySelector('#card-newest-comments .aside-list')
    $dom.innerHTML= result
    window.lazyLoadInstance && window.lazyLoadInstance.update()
    window.pjax && window.pjax.refresh($dom)
  }

  const newestCommentInit = () => {
    if (document.querySelector('#card-newest-comments .aside-list')) {
      const data = saveToLocal.get('github-newest-comments')
      if (data) {
        generateHtml(JSON.parse(data))
      } else {
        getComment()
      }
    }
  }

  newestCommentInit()
  document.addEventListener('pjax:complete', newestCommentInit)
})</script><script src="/js/ip_content.js"></script><script src="/js/title.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = true;
POWERMODE.mobile = false;
document.body.addEventListener('input', POWERMODE);
</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>